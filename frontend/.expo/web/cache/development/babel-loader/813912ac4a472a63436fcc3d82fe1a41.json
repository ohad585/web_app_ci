{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport UserModel from \"../model/user_model\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar UserDetails = function UserDetails(_ref) {\n  var _route$params;\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    userMail = _useState2[0],\n    setUserMail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userPassword = _useState4[0],\n    setUserPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    userImgUri = _useState6[0],\n    setUserImgUri = _useState6[1];\n  var _useState7 = useState({\n      _id: \"\",\n      access_token: \"\",\n      refresh_token: \"\"\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    userInfo = _useState8[0],\n    setUserInfo = _useState8[1];\n  var getUser = function () {\n    var _ref2 = _asyncToGenerator(function* (id) {\n      var user = yield UserModel.getUserById(route.params._id);\n      console.log(\"getUser \" + user.email);\n      setUserImgUri(user.imageUri.toString());\n      setUserMail(user.email);\n      setUserPassword(user.password);\n    });\n    return function getUser(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  React.useEffect(function () {\n    var usrc = {\n      _id: route.params._id,\n      access_token: route.params.accessToken,\n      refresh_token: route.params.refreshToken\n    };\n    console.log(usrc);\n    setUserInfo(usrc);\n    getUser(route.params._id);\n  }, [(_route$params = route.params) == null ? void 0 : _route$params._id]);\n  var navigateToEditDetails = function navigateToEditDetails() {\n    navigation.navigate(\"Edit User Details\", {\n      email: userMail,\n      password: userPassword,\n      imgUri: userImgUri,\n      accessToken: route.params.accessToken,\n      refreshToken: route.params.refreshToken\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [_jsxs(Text, {\n      children: [\"user email: \", userMail]\n    }), _jsxs(View, {\n      children: [userImgUri != \"\" && _jsx(Image, {\n        source: {\n          uri: userImgUri.toString()\n        },\n        style: styles.list_row_image\n      }), userImgUri == \"\" && _jsx(Image, {\n        source: require(\"../assets/avatar.jpeg\"),\n        style: styles.list_row_image\n      })]\n    }), _jsx(TouchableHighlight, {\n      onPress: function onPress() {\n        return navigation.navigate(\"Edit User Details\", {\n          user: userInfo\n        });\n      },\n      children: _jsx(Text, {\n        children: \"Edit My Details\"\n      })\n    }), _jsx(TouchableHighlight, {\n      onPress: function onPress() {\n        return navigation.navigate(\"User Posts\", {\n          user: userInfo\n        });\n      },\n      children: _jsx(Text, {\n        children: \"My Posts\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  list_row_image: {\n    height: 130,\n    width: 130,\n    margin: 10,\n    borderRadius: 15\n  }\n});\nexport default UserDetails;","map":{"version":3,"names":["React","useState","View","Text","TouchableHighlight","Image","StyleSheet","UserModel","jsxs","_jsxs","jsx","_jsx","UserDetails","_ref","_route$params","navigation","route","_useState","_useState2","_slicedToArray","userMail","setUserMail","_useState3","_useState4","userPassword","setUserPassword","_useState5","_useState6","userImgUri","setUserImgUri","_useState7","_id","access_token","refresh_token","_useState8","userInfo","setUserInfo","getUser","_ref2","_asyncToGenerator","id","user","getUserById","params","console","log","email","imageUri","toString","password","_x","apply","arguments","useEffect","usrc","accessToken","refreshToken","navigateToEditDetails","navigate","imgUri","style","flex","alignItems","justifyContent","children","source","uri","styles","list_row_image","require","onPress","create","height","width","margin","borderRadius"],"sources":["/Users/ohadshalom/Desktop/devops_projects/cicd_project/frontend/screens/user_details_screen.tsx"],"sourcesContent":["import React, { FC, useReducer, useState } from \"react\";\nimport { View, Text, TouchableHighlight, Button,Image,StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport EditUserDetailsScreen from \"../screens/edit_user_details\"\nimport UserModel, {User} from \"../model/user_model\"\nimport { UserCredentials } from \"../model/user_model\";\n\n\nconst UserDetails: FC<{ navigation: any; route: any }> = ({\n    navigation,\n    route,\n  }) => {\n    const [userMail ,setUserMail] = useState<String>(\"\")\n    const [userPassword ,setUserPassword] = useState<String>(\"\")\n    const [userImgUri ,setUserImgUri] = useState<String>(\"\")\n    const [userInfo,setUserInfo] = useState<UserCredentials>({_id:\"\",access_token:\"\",refresh_token:\"\"});\n\n    const getUser =async (id:String) => {\n      const user =  await UserModel.getUserById(route.params._id)   \n      console.log(\"getUser \"+user.email);\n      setUserImgUri(user.imageUri.toString())\n      setUserMail(user.email)\n      setUserPassword(user.password)\n     }\n\n    React.useEffect(()=>{\n      const usrc:UserCredentials = {\n        _id:route.params._id,\n        access_token:route.params.accessToken,\n        refresh_token:route.params.refreshToken\n      }\n      console.log(usrc);\n      setUserInfo(usrc)\n      getUser(route.params._id)\n    },[route.params?._id])\n    \n    const navigateToEditDetails = ()=>{\n      navigation.navigate(\"Edit User Details\",{\n        email:userMail,\n        password:userPassword,\n        imgUri:userImgUri,\n        accessToken:route.params.accessToken,\n        refreshToken:route.params.refreshToken\n      })\n    }\n\n\n    return (\n      <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n       \n        <Text>user email: {userMail}</Text>\n        <View>\n        {userImgUri != \"\" && (\n          <Image\n            source={{ uri: userImgUri.toString() }}\n            style={styles.list_row_image}\n          ></Image>\n        )}\n        {userImgUri == \"\" && (\n          <Image\n            source={require(\"../assets/avatar.jpeg\")}\n            style={styles.list_row_image}\n          ></Image>\n        )}\n        </View>\n        <TouchableHighlight onPress={()=>navigation.navigate(\"Edit User Details\",{user:userInfo})}>\n          <Text>Edit My Details</Text>\n          </TouchableHighlight>\n        <TouchableHighlight onPress={()=>navigation.navigate(\"User Posts\",{user:userInfo})}>\n        <Text>My Posts</Text>     \n        </TouchableHighlight>     \n       \n      </View>\n    );\n  };\n\n  const styles = StyleSheet.create({\n    list_row_image: {\n      height: 130,\n      width: 130,\n      margin: 10,\n      borderRadius: 15,\n    },\n  });\n\n  export default UserDetails"],"mappings":"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"},"metadata":{},"sourceType":"module"}