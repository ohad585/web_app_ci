{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport * as ImagePicker from 'expo-image-picker';\nimport colors from \"../../constants/colors\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CustomImagePicker = function CustomImagePicker(_ref) {\n  var onImageSelected = _ref.onImageSelected,\n    image = _ref.image;\n  var _useState = useState(image),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUri = _useState2[0],\n    setImageUri = _useState2[1];\n  console.log(\"IMagepicker \" + image);\n  useEffect(function () {\n    requestPermission();\n  }, []);\n  var requestPermission = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var res = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (!res.granted) {\n        alert(\"please give camera permission\");\n      }\n    });\n    return function requestPermission() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var openCamera = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        var res = yield ImagePicker.launchCameraAsync();\n        if (!res.cancelled) {\n          setImageUri(res.uri);\n          console.log(\"image = \" + res.uri);\n          onImageSelected(res.uri);\n        }\n      } catch (error) {\n        console.log(\"camera failed \" + error);\n      }\n    });\n    return function openCamera() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var openGallery = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var res = yield ImagePicker.launchImageLibraryAsync();\n        if (!res.cancelled) {\n          setImageUri(res.uri);\n          console.log(\"image = \" + res.uri);\n          onImageSelected(res.uri);\n        }\n      } catch (error) {\n        console.log(\"camera failed \" + error);\n      }\n    });\n    return function openGallery() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [imageUri != \"\" && _jsx(Image, {\n      style: styles.image_picker_image,\n      source: {\n        uri: imageUri.toString()\n      }\n    }), imageUri == \"\" && _jsx(Image, {\n      style: styles.image_picker_image,\n      source: require(\"../../assets/avatar.jpeg\")\n    }), _jsx(TouchableHighlight, {\n      underlayColor: colors.clickBackground,\n      onPress: openCamera,\n      style: styles.image_picker_camera_btn,\n      children: _jsx(Ionicons, {\n        name: \"camera\",\n        size: 50,\n        color: colors.button_icon\n      })\n    }), _jsx(TouchableHighlight, {\n      underlayColor: colors.clickBackground,\n      onPress: openGallery,\n      style: styles.image_picker_gallery_btn,\n      children: _jsx(Ionicons, {\n        name: \"images\",\n        size: 40,\n        color: colors.button_icon\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  image_picker_image: {\n    width: \"100%\",\n    height: 250,\n    resizeMode: \"contain\",\n    padding: 10\n  },\n  image_picker_camera_btn: {\n    position: \"absolute\",\n    bottom: -5,\n    left: 10\n  },\n  image_picker_gallery_btn: {\n    position: \"absolute\",\n    bottom: -5,\n    right: 10\n  }\n});\nexport default CustomImagePicker;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","Image","TouchableHighlight","Ionicons","ImagePicker","colors","jsx","_jsx","jsxs","_jsxs","CustomImagePicker","_ref","onImageSelected","image","_useState","_useState2","_slicedToArray","imageUri","setImageUri","console","log","requestPermission","_ref2","_asyncToGenerator","res","requestMediaLibraryPermissionsAsync","granted","alert","apply","arguments","openCamera","_ref3","launchCameraAsync","cancelled","uri","error","openGallery","_ref4","launchImageLibraryAsync","children","style","styles","image_picker_image","source","toString","require","underlayColor","clickBackground","onPress","image_picker_camera_btn","name","size","color","button_icon","image_picker_gallery_btn","create","width","height","resizeMode","padding","position","bottom","left","right"],"sources":["/Users/ohadshalom/Desktop/devops_projects/cicd_project/frontend/screens/component/custom_image_picker.tsx"],"sourcesContent":["import React, { FC, useState,useRef, useEffect } from \"react\";\nimport { View, Text, StyleSheet, Button, Image, TouchableHighlight } from 'react-native'\nimport Ionicons from '@expo/vector-icons/Ionicons';\n\nimport * as ImagePicker from 'expo-image-picker';\nimport colors from \"../../constants/colors\";\n\nconst CustomImagePicker:FC<{onImageSelected:(uri:String)=>void,image:String}> = ({onImageSelected,image})=>{\n    const [imageUri,setImageUri] = useState(image) \n    console.log(\"IMagepicker \"+image);\n       \n    useEffect(()=>{\n        requestPermission()\n    },[])\n\n    const requestPermission = async ()=>{\n        // const res = await ImagePicker.requestCameraPermissionsAsync()\n        const res = await ImagePicker.requestMediaLibraryPermissionsAsync()\n        if (!res.granted){\n            alert(\"please give camera permission\")\n        }\n    }\n\n    const openCamera = async ()=>{\n        try{\n            const res = await ImagePicker.launchCameraAsync()\n            if(!res.cancelled){\n                setImageUri(res.uri)\n                console.log(\"image = \" + res.uri)\n                onImageSelected(res.uri)\n            }\n        }catch (error){\n            console.log(\"camera failed \" + error)\n        }\n    }\n    const openGallery = async ()=>{\n        try{\n            const res = await ImagePicker.launchImageLibraryAsync()\n            if(!res.cancelled){\n                setImageUri(res.uri)\n                console.log(\"image = \" + res.uri)\n                onImageSelected(res.uri)\n            }\n        }catch (error){\n            console.log(\"camera failed \" + error)\n        }\n    }\n\n    return (\n        <View>\n            { imageUri != \"\" && <Image style={styles.image_picker_image} source={{uri:imageUri.toString()}}></Image>}\n            { imageUri == \"\" && <Image style={styles.image_picker_image} source={require(\"../../assets/avatar.jpeg\")}></Image>}\n            \n            <TouchableHighlight underlayColor={colors.clickBackground} onPress={openCamera} style={styles.image_picker_camera_btn}>\n                <Ionicons name={\"camera\"} size={50} color={colors.button_icon} />\n            </TouchableHighlight>\n            <TouchableHighlight underlayColor={colors.clickBackground} onPress={openGallery} style={styles.image_picker_gallery_btn}>\n                <Ionicons name={\"images\"} size={40} color={colors.button_icon} />\n            </TouchableHighlight>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    image_picker_image:{\n        width: \"100%\",\n        height: 250,\n        resizeMode: \"contain\",\n        padding: 10,\n    },\n    image_picker_camera_btn:{\n        position: \"absolute\",\n        bottom: -5,\n        left: 10\n    },\n    image_picker_gallery_btn: {\n        position: \"absolute\",\n        bottom: -5,\n        right: 10\n    }\n})\n\n\nexport default CustomImagePicker"],"mappings":"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"},"metadata":{},"sourceType":"module"}